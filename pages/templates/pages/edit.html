{% extends 'base.html' %}

{% block title %}Edit {{ title }}{% endblock %}
{% block content %}


{% comment %} <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script> {% endcomment %}

<article>
    <form method="POST" class="pages-form">
        {% csrf_token %}
        <textarea name="content" rows="30" cols="100" class="pages-editor">{{ content }}</textarea>
        <br>
        <button type="submit" name="action" value="save" class="pages-save-btn ">Save</button>
        <button type="submit" name="action" value="preview" class="pages-preview-btn">Preview</button>
        <button type="submit" name="action" value="cancel" class="pages-cancel-btn">Cancel</button>
        <label for="version_history",onchange="show_selected_version_page()"></label>
        <select id="version_pages" name="version_page_selected" onchange="this.form.submit()" class="pages-history">
            <option value="" disabled selected>See page version history</option>
            {% for version_page in version_pages %}
                {% if version_page == "There is no version history." %}
                    <option value="{{ version_page }}" disabled>{{ version_page }}</option>
                {% else %}
                    <option value="{{ version_page }}">{{ version_page }}</option>
                {% endif %}
            {% endfor %}
        </select>
    </form>
</article>

<br>


<article>

    {{ preview_content|safe }}
</article>
{% endblock %}